---
import BaseLayout from '../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';
import { render } from 'astro:content';

const faqs = await getCollection('faqs');
const rendered = await Promise.all(faqs.map(async (faq) => {
	const { Content } = await render(faq);
	return { faq, Content };
}));
---

<BaseLayout title="FAQs" description="Frequently asked questions about Quan Electrical â€” rewires, EV chargers, quotes and certification in Kilkenny.">
	<section class="py-20 md:py-28">
		<div class="container mx-auto max-w-3xl px-4 sm:px-6 lg:px-8">
			<div class="max-w-2xl">
				<p class="font-heading text-sm font-semibold uppercase tracking-wider text-amber-600">Help</p>
				<h1 class="font-heading mt-2 text-4xl font-bold tracking-tight text-slate-900 md:text-5xl">Frequently asked questions</h1>
				<p class="mt-4 text-lg text-slate-600">
					Common questions about our services, pricing, and how we work. Can't find what you need? <a href="/contact" class="font-semibold text-amber-600 hover:text-amber-700">Get in touch</a>.
				</p>
			</div>
			<dl class="mt-16 space-y-1">
				{rendered.map(({ faq, Content }) => (
					<div class="border-b border-slate-200 py-10 last:border-0">
						<dt class="font-heading text-lg font-semibold text-slate-900">{faq.data.question}</dt>
						<dd class="prose prose-slate mt-3 max-w-none text-slate-600 prose-a:text-amber-600">
							<Content />
						</dd>
					</div>
				))}
			</dl>
		</div>
	</section>
</BaseLayout>
