# Cloudflare Pages — Quan Electrical
# Deploy: npm run build && npx wrangler pages deploy dist --project-name quanelectrical
# Or connect repo in Cloudflare dashboard for automatic deploys.

name = "quanelectrical"
compatibility_date = "2025-01-01"
pages_build_output_dir = "dist"

# D1: contact form submissions. Create DB then run migration:
#   npx wrangler d1 create quanelectrical-db
#   npx wrangler d1 execute quanelectrical-db --remote --file=./migrations/0001_contact_submissions.sql
# Then set database_id below (from "wrangler d1 create" output). Or bind DB in Pages dashboard.
[[d1_databases]]
binding = "DB"
database_name = "quanelectrical-db"
database_id = "12b64c1e-8983-4983-8a78-8d36cb2ba461"

# Optional: email when someone submits the contact form (Pages > Settings > Environment variables).
# Set NOTIFICATION_EMAIL to the address that should receive each submission (e.g. info@quanelectrical.com).
# Use one of these to send (secrets recommended for API keys):
#   RESEND_API_KEY     - Resend (https://resend.com) – recommended
#   SENDGRID_API_KEY   - SendGrid
#   EMAIL_WORKER_URL   - Your Cloudflare Email Worker URL (+ optional EMAIL_WORKER_TOKEN)
#   EMAIL_FROM         - Optional "From" address (e.g. Quan Electrical <noreply@quanelectrical.com>)

# Uncomment and set for Decap CMS GitHub OAuth (create OAuth App at https://github.com/settings/developers):
# [vars]
# GITHUB_CLIENT_ID = ""
# GITHUB_CLIENT_SECRET = ""  # Use Cloudflare secret: wrangler secret put GITHUB_CLIENT_SECRET
